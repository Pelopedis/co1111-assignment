<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <!-- main js file for contact with API -->
        <script type="text/JavaScript" src="thcode.js"></script>
        <!-- qrcode js -->
        <script type="text/javascript" src="qrCodejs/instascan.min.js"></script>
        <link rel="icon" href="images/parleyicon.png">
        <title>Treasure Hunt</title>
    </head>

    <body onload="setInterval(getLocation, 30000);">

        <div class="header">
            <img src="images/parleylogosmall.png" alt = "logo">
        </div>

        <p class="questionButton" id="question"></p>

        <div class="container2">

            <!-- elements for string questions-->
            <input type="text" class="questionButton" id="answerString">
            <button class="questionButton" id="submitString">Check</button>

            <!-- elements for Number questions-->
            <input type="number" class="questionButton" id="answerNo">
            <button class="questionButton" id="submitNo">Check</button>

            <!-- elements for boolean questions-->
            <button class="questionButton" id="boolT">TRUE</button>
            <button class="questionButton" id="boolF">FALSE</button>

            <!-- elements for MCQ questions-->
            <button class="questionButton" id="buttonA">A</button>
            <button class="questionButton" id="buttonB">B</button>
            <button class="questionButton" id="buttonC">C</button>
            <button class="questionButton" id="buttonD">D</button>

            <!-- shows only when th finishes-->
            <table class="questionButton" id="lbScores">
                <tr>
                    <th>Team</th>
                    <th>Score</th>
                    <!--<th>Time</th>-->
                </tr>
            </table>

        </div>

        <button class="questionButton" id="skipButton">SKIP</button>

        <div class="qrDropdown">
            <button id="qrBtn" class="qrBtn">Dropdown</button>
            <div id="qrContent" class="div-content">
                <video id="preview"></video>

                <div style="margin: 0.5em; padding: 0.5em; color: black; text-align: center;" id="content"></div>
            </div>
        </div>

        <p class="questionButton" id="message"></p>
        <br>
        <p class="questionButton" id="locMessage"></p>

        <!-- a element (visible on leaderboard)-->
        <a class="questionButton" id="toHome" href="index.html">HOMEPAGE</a>

        <script>
            getStartData();

            /* QR Code reader functionality */
            var scanner = new Instascan.Scanner(opts);

            Instascan.Camera.getCameras().then(function (cameras) {
                if (cameras.length > 0) {
                    scanner.start(cameras[0]);
                } else {
                    console.error('No cameras found.');
                    alert("No cameras found.");
                }
            }).catch(function (e) {
                console.error(e);
            });

            scanner.addListener('scan', function (content) {
                //console.log(content);
                document.getElementById("content").innerHTML = content;
            });

            /* Functionality to show/hide the qr code reader */

            // Get the button, and when the user clicks on it, execute myFunction
            document.getElementById("qrBtn").onclick = function() {showHide()};

            /* myFunction toggles between adding and removing the show class,
            which is used to hide and show the dropdown content */
            function showHide() {
                document.getElementById("qrContent").classList.toggle("show");
            }
        </script>

    </body>
</html>
